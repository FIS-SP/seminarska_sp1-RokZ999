{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\SP1_project\\\\frontend\\\\src\\\\pages\\\\Note.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { ReactComponent as ArrowLeft } from '../assets/arrow-left.svg';\nimport { ReactComponent as SaveIcon } from '../assets/save.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Note = () => {\n  _s();\n\n  let params = useParams();\n  let noteId = params.id;\n  let navigate = useNavigate();\n  let [note, setNote] = useState(null);\n  useEffect(() => {\n    if (noteId !== 'add') getNote();\n  }, [noteId]);\n\n  let getNote = async () => {\n    let response = await fetch(`/notes/${params.id}`);\n    let data = await response.json();\n    setNote(data);\n  };\n\n  let submitData = async e => {\n    e.preventDefault();\n    console.log('Submit data triggerd...');\n    let url = '/notes';\n    let method = 'POST';\n\n    if (params.id !== 'add') {\n      url = `/notes/${params.id}`;\n      method = 'PUT';\n    }\n\n    let noteBody = note === null || note === void 0 ? void 0 : note.body;\n\n    if (noteBody !== undefined) {\n      noteBody = String(noteBody).trim();\n    }\n\n    if (noteBody === '' || noteBody === undefined) {\n      alert('Note cannot be empty.');\n      return;\n    }\n\n    await fetch(url, {\n      method: method,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        \"body\": noteBody\n      })\n    });\n    navigate('/');\n  };\n\n  let deleteNote = async e => {\n    e.preventDefault();\n    await fetch(`/notes/${params.id}`, {\n      method: 'DELETE'\n    });\n    navigate('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"note\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"note-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(ArrowLeft, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), noteId != 'add' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: deleteNote,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      onChange: e => {\n        setNote({ ...note,\n          'body': e.target.value\n        });\n      },\n      placeholder: \"Edit note\",\n      value: note === null || note === void 0 ? void 0 : note.body,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: submitData,\n      className: \"floating-button\",\n      children: /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Note, \"lidLK75DfuAshHlim/CXlmMI8Zw=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = Note;\nexport default Note;\n\nvar _c;\n\n$RefreshReg$(_c, \"Note\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Link","ReactComponent","ArrowLeft","SaveIcon","Note","params","noteId","id","navigate","note","setNote","getNote","response","fetch","data","json","submitData","e","preventDefault","console","log","url","method","noteBody","body","undefined","String","trim","alert","headers","JSON","stringify","deleteNote","target","value"],"sources":["C:/Users/Administrator/Desktop/SP1_project/frontend/src/pages/Note.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\nimport { useParams, useNavigate } from 'react-router-dom'\nimport { Link } from 'react-router-dom'\nimport { ReactComponent as ArrowLeft } from '../assets/arrow-left.svg'\nimport { ReactComponent as SaveIcon } from '../assets/save.svg'\n\nconst Note = () => {\n  let params = useParams()\n  let noteId = params.id\n\n  let navigate = useNavigate()\n\n\n  let [note, setNote] = useState(null)\n\n  useEffect(() => {\n    if(noteId !== 'add') getNote()\n  }, [noteId])\n\n\n  let getNote = async () => {\n    let response = await fetch(`/notes/${params.id}`)\n    let data = await response.json()\n    setNote(data)\n  }\n\n  let submitData = async (e) => {\n    e.preventDefault()\n\n    console.log('Submit data triggerd...')\n\n    let url = '/notes'\n    let method = 'POST'\n\n    if (params.id !== 'add'){\n        url = `/notes/${params.id}`\n        method = 'PUT'\n    }\n\n    let noteBody = note?.body\n    if (noteBody !== undefined){\n      noteBody = String(noteBody).trim()\n    }\n\n    if(noteBody === '' || noteBody === undefined){\n      alert('Note cannot be empty.')\n      return \n    }\n\n    await fetch(url, {\n        method:method,\n        headers:{\n            'Content-Type':'application/json',\n        },\n        body:JSON.stringify({\"body\":noteBody})\n    })\n\n    navigate('/')\n  }\n\n  let deleteNote = async (e) => {\n      e.preventDefault()\n      await fetch(`/notes/${params.id}`, {method:'DELETE'})\n      navigate('/')\n\n  }\n\n  return (\n    <div className=\"note\">\n      <div className='note-header'>\n        <h3>\n            <Link to=\"/\">\n                <ArrowLeft />\n            </Link>\n        </h3>\n\n        {noteId != 'add' && <button onClick={deleteNote}>Delete</button>}\n      </div>\n\n      <textarea onChange={(e) => { setNote({ ...note, 'body': e.target.value}) }} placeholder=\"Edit note\" value={note?.body} required></textarea>\n\n      <div onClick={submitData} className=\"floating-button\">\n            <SaveIcon  />\n        </div>\n    </div>\n  )\n}\n\nexport default Note\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}